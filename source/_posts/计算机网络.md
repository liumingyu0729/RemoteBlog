---
title: 计算机网络
date: 2019-11-12 14:31:47
tags:
---
计算机网络
TCP/IP协议栈

&nbsp;| OSI| 协议
:-: | :-: | :-:
应用层 | 应用层 表示层 会话层 | DNS FTP HTTP POP Telnet
传输层 | 传输层 | TCP UDP
网络层 | 网络层 | IP
数据链路层 | 数据链路层 | ARP MAC
物理层 | 物理层 | &nbsp;

协议数据单元 PDU 服务数据单元 SDU 服务访问点 SAP

报文 message
&emsp;包（分组）（数据报）packet
&emsp;&emsp;首部 header
首部+数据段（1024 bit）

传输层/网络层/数据链路层/物理层 封装在操作系统内
### 中间设备
网关（连接两个不兼容的系统）

物理层 | 数据链路层 | 网络层 
:-: | :-: | :-: 
转发器 | 网桥 | 路由器 

### 链路层
&emsp;以太网帧的格式
&emsp;&emsp;帧：首部 + 数据 + 尾部
&emsp;&emsp;帧开始符 SOH 帧结束符 EOT
&emsp;MTU概念
&emsp;&emsp;最大传输单元，链路层规定帧的数据部分上限
### 网络层
&emsp;MAC地址 6字节 适配器 （MAC广播地址 FF-FF-FF-FF-FF-FF）
&emsp;ARP地址解析协议（同一子网）: IP地址 -> MAC地址  
&emsp;ARP表 主机或路由器内存中 IP与MAC映射 TTL寿命值（一般20分钟）
&emsp;RARP协议: 物理地址 -> IP地址
&emsp;ARP报文格式

以太网目的地址 | 以太网源地址 | 帧类型 | 硬件类型 | 协议类型 | 硬件地址长度 | 协议地址长度 | op | 发送者硬件地址 | 发送者IP地址 | 目标硬件地址 | 目标IP地址
:-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-:
6 | 6 | 2 | 2 | 2 | 1 | 1 | 2 | 6 | 4 | 6 | 4

以太网首部: 以太网目的地址 以太网源地址
以太网ARP字段:
&emsp;ARP首部: 帧类型 硬件类型 协议类型 硬件地址长度 协议 地址长度 op
&emsp;发送者硬件地址 发送者IP地址 目标硬件地址 目标IP地址
&emsp;ARP查询原理
&emsp;&emsp;发送方（ARP表无目标MAC映射）
&emsp;&emsp;->ARP查询包（MAC广播地址）->封装进帧
&emsp;&emsp;（路由转接口 重新封装进帧->）
&emsp;&emsp;<-ARP响应包
&emsp;&emsp;ARP表更新
&emsp;&emsp;IP数据包->
&emsp;ARP缓存
&emsp;IP首部格式
&emsp;IP地址 <网络号>,<主机号>
&emsp;IP分片
&emsp;IP选路
&emsp;ICMP协议
### 传输层
&emsp;UDP协议
&emsp;TCP协议
&emsp;TCP连接控制
&emsp;TCP流量控制
&emsp;TCP超时重传
### 应用层
&emsp;DNS协议
&emsp;FTP协议
&emsp;HTTP协议
&emsp;&emsp;报文格式：请求报文 响应报文 请求头字段 响应头字段
&emsp;&emsp;状态码
&emsp;HTTPS协议
&emsp;&emsp;详细的握手过程
&emsp;&emsp;摘要算法 数字签名 数字证书
